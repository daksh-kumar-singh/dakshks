@tailwind base;
@tailwind components;
@tailwind utilities;

/* ======================================================
   Purdue-Inspired Global Theme
   Light/Dark modes with flipped gold tones for balance
   ====================================================== */

:root {
  /* Light Mode */
  --background: 0 0% 100%;           /* White */
  --foreground: 222.2 47.4% 11.2%;   /* Deep neutral text */
  --muted: 210 16% 96%;
  --muted-foreground: 215 16% 40%;
  --p-gold: 142 121 73;              /* Muted gold (#8E6F3E) for light mode (RGB triplet) */
  --p-rush: 142 121 73;              /* Accent in light mode (RGB triplet) */
  --p-rail: 157 151 149;             /* Rail Gray (#9D9795) RGB */
  --p-steel: 85 89 96;               /* Steel Gray (#555960) RGB */
}

.dark {
  /* Dark Mode */
  --background: 0 0% 6%;             /* Near-black (#0F0F0F) */
  --foreground: 0 0% 94%;            /* Off-white text */
  --muted: 0 0% 12%;
  --muted-foreground: 0 0% 75%;
  --p-rush: 218 170 0;               /* Rush Gold (#DAAA00) — bright accent (RGB triplet) */
  --p-gold: 218 170 0;               /* Same accent gold (RGB triplet) */
  --p-rail: 157 151 149;             /* Gray borders */
  --p-steel: 85 89 96;
}

html { scroll-behavior: smooth; }

body {
  @apply bg-background text-foreground transition-colors duration-300;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol", sans-serif;
  line-height: 1.6;
}

/* =========================================
   Typography and Headings
   ========================================= */

h1, h2, h3, h4 {
  @apply font-semibold;
  color: rgb(var(--p-rush));
}

.dark h1,
.dark h2,
.dark h3,
.dark h4 {
  color: rgb(var(--p-gold));
}

/* Strong text (CV emphasis) — FIX: use rgb(), not hsl() */
strong {
  color: rgb(var(--p-steel));        /* visible dark gray on light mode */
  font-weight: 600;
}

.dark strong {
  color: rgba(218, 170, 0, 0.85);    /* soft Rush Gold tint in dark mode */
}

/* Links with subtle underline animation */
a {
  color: rgb(var(--p-rush));
  text-decoration: none;
  position: relative;
  transition: color 0.2s ease-in-out;
}
a::after {
  content: "";
  position: absolute;
  left: 0; bottom: -2px;
  width: 0; height: 2px;
  background-color: rgb(var(--p-rush));
  transition: width 0.25s ease-in-out;
}
a:hover::after { width: 100%; }

/* =========================================
   Cards, Borders, and Containers
   ========================================= */

.border-brand { border-color: rgb(var(--p-rail)); }

.card {
  @apply border border-brand rounded-2xl p-4;
  background-color: hsl(var(--muted) / 0.05);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}
.card:hover {
  background-color: hsl(var(--muted) / 0.15);
  border-color: rgb(var(--p-rush));
}

/* =========================================
   Prose and Media Refinements
   ========================================= */

.prose a { @apply underline underline-offset-4; }
.prose img {
  @apply rounded-2xl;
  transition: transform 0.3s ease;
}
.prose img:hover { transform: scale(1.02); }

/* --- Prose color overrides (fix for light mode / CV) --- */
.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  color: rgb(var(--p-rush));
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4 {
  color: rgb(var(--p-gold));
}

/* FIX: make <strong> visible inside .prose on light mode */
.prose strong {
  color: rgb(var(--p-steel));
}

.dark .prose strong {
  color: rgba(218, 170, 0, 0.85);
}

/* Ensure links inside prose use the site accent color */
.prose a {
  color: rgb(var(--p-rush));
}
.dark .prose a {
  color: rgb(var(--p-gold));
}

/* =========================================
   Collapsible <details> styling
   ========================================= */

details {
  @apply border border-brand rounded-xl p-4 transition-all duration-300;
  background-color: hsl(var(--muted) / 0.05);
}
details[open] {
  @apply bg-transparent border-brand;
  border-color: rgb(var(--p-rush));
}
summary {
  @apply cursor-pointer font-semibold text-lg list-none;
  color: rgb(var(--p-rush));
  transition: color 0.2s ease;
}
summary:hover { color: rgb(var(--p-gold)); }
summary::marker { display: none; }

/* =========================================
   Background Noise & Utility Animations
   ========================================= */

/* Noise pattern for subtle film grain (no external asset) */
.bg-noise {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' opacity='0.9' width='64' height='64' viewBox='0 0 64 64'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  background-size: 200px 200px;
  mix-blend-mode: overlay;
}
@media (prefers-reduced-motion: reduce) { .bg-noise { display: none; } }

/* Reveal on scroll */
.reveal-pending { opacity: 0; transform: translateY(8px); }
.reveal-in { opacity: 1; transform: translateY(0); transition: opacity 500ms ease, transform 500ms ease; }
@media (prefers-reduced-motion: reduce) {
  .reveal-pending, .reveal-in { opacity: 1; transform: none; transition: none; }
}

/* Ring wave animation for SVG circles */
@keyframes ring-pulse {
  0%   { opacity: 0.25; transform: scale(0.98); }
  50%  { opacity: 0.45; transform: scale(1.02); }
  100% { opacity: 0.25; transform: scale(0.98); }
}
.ring-wave { animation: ring-pulse 6s ease-in-out infinite; }
@media (prefers-reduced-motion: reduce) { .ring-wave { animation: none; } }

/* Floating gold blobs (CSS-only decorative shapes) */
@keyframes blob-float {
  0%, 100% { transform: translate(0,0) scale(1); }
  50%      { transform: translate(12px, -10px) scale(1.04); }
}
.qb-blob {
  filter: blur(26px);
  opacity: 0.18;
  animation: blob-float 9s ease-in-out infinite;
  will-change: transform;
}
.qb-1 { background: radial-gradient(600px 300px at 8% 15%, rgba(218,170,0,0.25), transparent 60%); }
.qb-2 { background: radial-gradient(500px 260px at 92% 12%, rgba(142,111,62,0.20), transparent 60%); animation-delay: 1.2s; }
.qb-3 { background: radial-gradient(400px 220px at 50% 100%, rgba(157,151,149,0.20), transparent 70%); animation-delay: 0.6s; }
